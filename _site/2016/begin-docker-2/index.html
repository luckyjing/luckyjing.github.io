<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="baidu-site-verification" content="VuquTUKFBu" />
  <title>LuckyJing - æ–°æ‰‹å­¦Dockerï¼ˆ2ï¼‰ç†Ÿæ‚‰Runå‘½ä»¤</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="/rss.xml">
  <link rel="stylesheet" href="http://cdn.bootcss.com/highlight.js/9.8.0/styles/arduino-light.min.css
">
  <link rel="stylesheet" href="/assets/css/style.css">
  <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2272e5cfdd1967a69e43963f3d5fa7ec";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>

<body>

  <nav class="main-nav">
    
        <a href="/" class="cta">ä¸»é¡µ </a>
    

    <!--
        
            <a  href="/about" class="cta">å…³äºæˆ‘</a>
        
    -->
    <!--<a class="cta" href="/feed.xml">Subscribe</a>-->
</nav> 

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>æ–°æ‰‹å­¦Dockerï¼ˆ2ï¼‰ç†Ÿæ‚‰Runå‘½ä»¤</h1>
        <h2 class="headline">2016å¹´12æœˆ09æ—¥</h2>
    </header>
    <section id="post-body">
        <h2 id="section">ä¸Šç¯‡å›é¡¾</h2>

<p>åœ¨ä¸Šç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬äº†è§£äº†<code class="highlighter-rouge">Docker</code>çš„åŸºæœ¬åŸç†å’Œè®¾å®šï¼Œ<code class="highlighter-rouge">run</code>å‘½ä»¤å¯ä»¥è¿è¡Œä¸€ä¸ªé•œåƒï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå®ä¾‹åŒ–ã€‚</p>

<h2 id="section-1">æœ¬ç¯‡æ¦‚è§ˆ</h2>

<p>åœ¨æœ¬å°èŠ‚é‡Œï¼Œæˆ‘ä»¬å°†ä»<code class="highlighter-rouge">Image</code>ä»“åº“é‡Œæ‹‰å–å¹¶è¿è¡Œ<code class="highlighter-rouge">Nginx</code>ï¼Œå°è¯•ä¸‹å°†æœ¬åœ°æ–‡ä»¶å’Œ<code class="highlighter-rouge">container</code>æ–‡ä»¶ç›¸æ˜ å°„ï¼Œ<code class="highlighter-rouge">Nginx</code>ç›¸æ¯”<code class="highlighter-rouge">hello-world</code>å¤šäº†äº›å¯åŠ¨å‚æ•°ï¼Œæˆ‘ä»¬å°†é€ä¸ªæ”»ç ´ã€‚</p>

<h3 id="section-2">å‡†å¤‡åº”ç”¨</h3>

<p>æˆ‘ä»¬åœ¨æœ¬æœºæ–°å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åˆ›å»ºæˆ‘ä»¬çš„é™æ€èµ„æºæ–‡ä»¶ï¼Œéšåå¾€<code class="highlighter-rouge">index.html</code>éšä¾¿å†™ç‚¹å†…å®¹ï¼Œæ‰§è¡Œä¸‹<code class="highlighter-rouge">pwd</code>å‘½ä»¤è·å–ä¸€ä¸‹å½“å‰æ–‡ä»¶å¤¹æ‰€åœ¨è·¯å¾„ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mkdir class01 &amp;&amp; cd class01
touch index.html
pwd
</code></pre>
</div>
<h3 id="nginx-image">è·å–Nginx Image</h3>

<p>æˆ‘ä»¬æ‰“å¼€å›½å†…çš„<a href="https://hub.daocloud.io">Docker Hubé•œåƒç«™</a>ï¼Œæœç´¢<code class="highlighter-rouge">Nginx</code>ï¼Œç¬¬ä¸€ä¸ªä¾¿æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼Œæ‰“å¼€Imageè¯¦æƒ…é¡µï¼Œä¼šæœ‰è¯¦ç»†åœ°ä½¿ç”¨è¯´æ˜ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼å»è¿è¡Œè¿™ä¸ª<code class="highlighter-rouge">Image</code>ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>docker pull nginx
docker run --name my-nginx  -d -p 3000:80 nginx
</code></pre>
</div>

<p>å‘½ä»¤è§£é‡Šï¼š</p>

<ul>
  <li><code class="highlighter-rouge">--name</code>ä¸ºå½“å‰åˆ›å»ºçš„<code class="highlighter-rouge">container</code>èµ·ä¸€ä¸ªå¥½è®°çš„æ˜µç§°ï¼Œé»˜è®¤æƒ…å†µä¸‹<code class="highlighter-rouge">docker</code>ä¼šéšæœºåˆ†é…ä¸€ä¸ªæ˜µç§°</li>
  <li><code class="highlighter-rouge">-d</code>å³Deamon,èƒ½å¤Ÿè®©è¿›ç¨‹åœ¨åå°è¿è¡Œè€Œä¸é˜»å¡å‘½ä»¤è¡Œã€‚</li>
  <li><code class="highlighter-rouge">-p</code>ç«¯å£æš´éœ²ï¼Œnginxé€šå¸¸è¿è¡Œåœ¨80ç«¯å£ï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨ä¸»æœºè®¿é—®<code class="highlighter-rouge">container</code>é‡Œçš„<code class="highlighter-rouge">nginx</code>ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œ<strong>ç«¯å£æš´éœ²</strong>ï¼Œæ ¼å¼ä¸ºï¼š<code class="highlighter-rouge">[host port]:[container port]</code></li>
</ul>

<p>è¿™æ—¶æˆ‘ä»¬åœ¨æœ¬æœºè®¿é—®<code class="highlighter-rouge">localhost:3000</code>ï¼Œå°†ä¼šçœ‹åˆ°<code class="highlighter-rouge">nginx</code>çš„æ¬¢è¿é¡µã€‚</p>

<p><img src="http://7xlqsb.com1.z0.glb.clouddn.com/%E6%88%AA%E5%9B%BE%202016-12-09%2017%E6%97%B655%E5%88%8618%E7%A7%92.jpg" alt="" /></p>

<p><strong>æŒ‚è½½æœ¬æœºç›®å½•</strong></p>

<p>å¦‚æœæƒ³è®©<code class="highlighter-rouge">nginx</code>ä¼ºæœæœ¬æœºçš„æŸä¸ªç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸Š<code class="highlighter-rouge">-v</code>å‘½ä»¤ï¼Œ<code class="highlighter-rouge">-v</code>å³Volumeï¼Œæˆ‘ä»¬å¸Œæœ›<code class="highlighter-rouge">nginx</code>èƒ½å¤Ÿä»¥å½“å‰æ–‡ä»¶å¤¹ä½œä¸ºèµ„æºç›®å½•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæŒ‚è½½ï¼Œé€šè¿‡<code class="highlighter-rouge">[Host dir]:[container dir]</code>çš„å½¢å¼å°†ä¸»æœºçš„ç›®å½•è¦†ç›–<code class="highlighter-rouge">container</code>é‡Œé¢çš„ç›®å½•ï¼Œå½“ç„¶<code class="highlighter-rouge">b</code>ç›®å½•æœ¬æ¥çš„å†…å®¹ä¸ä¼šä¸¢å¤±ï¼Œå½“æˆ‘ä»¬ä¸é€‰æ‹©æŒ‚è½½æ—¶ï¼Œå…¶åˆå°†ä¼šç”Ÿæ•ˆã€‚</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>docker ps <span class="c"># æ˜¾ç¤ºå½“å‰æ­£åœ¨è¿è¡Œçš„containerï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„my-nginx</span>
docker stop my-nginx
docker rm my-nginx <span class="c"># åœæ­¢å¹¶åˆ é™¤my-nginx</span>
docker run --name my-nginx -v <span class="o">[</span>your <span class="nb">pwd</span><span class="o">]</span>:/usr/share/nginx/html:ro -d -p 3000:80 nginx
</code></pre>
</div>

<p>æ·»åŠ çš„<code class="highlighter-rouge">[your pwd]</code>ä¸ºæœ€å¼€å§‹åˆ›å»ºçš„<code class="highlighter-rouge">index.html</code>æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå¦‚<code class="highlighter-rouge">~/coding/docker-learn/class01</code></p>

<p>å‘½ä»¤è§£é‡Šï¼š</p>

<ul>
  <li><code class="highlighter-rouge">:ro</code>æ„ä¸º<strong>Read Only</strong>ï¼Œå¯¹<code class="highlighter-rouge">container</code>å¢åŠ åªè¯»æƒé™ï¼Œé»˜è®¤ä¸ºå¯è¯»å†™</li>
</ul>

<p>æˆ‘ä»¬å†æ¬¡è®¿é—®<code class="highlighter-rouge">localhost:3000</code>ï¼Œæ˜¾ç¤ºçš„å†…å®¹å·²ç»æ˜¯æˆ‘ä»¬åˆ›å»ºçš„<code class="highlighter-rouge">index.html</code>äº†ã€‚</p>

<p><img src="http://7xlqsb.com1.z0.glb.clouddn.com/%E6%88%AA%E5%9B%BE%202016-12-09%2017%E6%97%B657%E5%88%8626%E7%A7%92.jpg" alt="" /></p>

<p><strong>å¤ç”¨æŒ‚è½½çš„ç›®å½•</strong></p>

<p>ä¸Šä¸€æ­¥æˆ‘ä»¬ä¸º<code class="highlighter-rouge">my-nginx</code>è¿™ä¸ª<code class="highlighter-rouge">container</code>æŒ‚è½½äº†æ•°æ®å·ï¼Œå¦‚æœæˆ‘ä»¬æ–°çš„<code class="highlighter-rouge">container</code>ä¹Ÿæƒ³ç”¨å’Œ<code class="highlighter-rouge">my-nginx</code>ç›¸åŒçš„æ•°æ®å·å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">--volumns-from</code>æ¥å¤ç”¨æ•°æ®å·åœ°å€ã€‚</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>docker run --name my-nginx1 --volumes-from my-nginx -d -p 3001:80 nginx
</code></pre>
</div>

<p>ç°åœ¨è®¿é—®<code class="highlighter-rouge">localhost:3001</code>ä¾¿å¯ä»¥å¾—åˆ°åŒ3000ç«¯å£ä¸€æ ·çš„æ•ˆæœäº†ï¼Œè¯•è¯•<code class="highlighter-rouge">docker ps</code>çœ‹çœ‹ç›®å‰è¿è¡Œä¸­çš„<code class="highlighter-rouge">container</code>ä¿¡æ¯å§ã€‚</p>

    </section>
</article>

 


<!-- å¤šè¯´è¯„è®ºæ¡† start -->
	<div class="ds-thread" data-thread-key="2016/begin-docker-2/" data-title="æ–°æ‰‹å­¦Dockerï¼ˆ2ï¼‰ç†Ÿæ‚‰Runå‘½ä»¤" ></div>
<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"luckyjing"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->


<!-- Archive post list -->
    <ul id="post-list" class="archive readmore">
        <h3>æ›´å¤š</h3>
        
            <li>
                <a href="/2016/begin-docker-2/">æ–°æ‰‹å­¦Dockerï¼ˆ2ï¼‰ç†Ÿæ‚‰Runå‘½ä»¤<aside class="dates">2016å¹´12æœˆ09æ—¥</aside></a>
            </li>
        
            <li>
                <a href="/2016/begin-docker-1/">æ–°æ‰‹å­¦Dockerï¼ˆ1ï¼‰Hello World<aside class="dates">2016å¹´12æœˆ09æ—¥</aside></a>
            </li>
        
            <li>
                <a href="/2016/architecture-exploration/">å­¦ç”Ÿå›¢é˜Ÿçš„å‰åç«¯åˆ†ç¦»åŠæŒç»­äº¤ä»˜æ¢ç´¢å†ç¨‹<aside class="dates">2016å¹´11æœˆ19æ—¥</aside></a>
            </li>
        
            <li>
                <a href="/2016/use-cnpm/">ä½¿ç”¨cnpmåŠ é€Ÿä¸‹è½½npmåŒ…<aside class="dates">2016å¹´11æœˆ13æ—¥</aside></a>
            </li>
        
            <li>
                <a href="/2016/flipClock/">æœ‰è¶£çš„å€’è®¡æ—¶ç»„ä»¶<aside class="dates">2016å¹´11æœˆ12æ—¥</aside></a>
            </li>
        
            <li>
                <a href="/2016/web-guide/">å…³äºWebå‰ç«¯çš„ä¸€æ¬¡åˆ†äº«<aside class="dates">2016å¹´06æœˆ06æ—¥</aside></a>
            </li>
        
    </ul>

<footer id="post-meta" class="clearfix">
       
    <a href="/">
         <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">LuckyJing</span>
            <span>çˆ±è·‘ğŸ´æ‹‰æ¾ï¼Œçˆ±éª‘è¡Œï¼Œçˆ±ğŸ“·å½±ï¼ŒğŸ’•JavaScript</span>
        </div>
    </a>
    <section id="sharing">
        <!--<a class="twitter" href="https://twitter.com/intent/tweet?text=http://luckyjing.github.io/2016/begin-docker-2/ - æ–°æ‰‹å­¦Dockerï¼ˆ2ï¼‰ç†Ÿæ‚‰Runå‘½ä»¤ by @"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>-->
    </section>
</footer>
  </section>

  <script src="http://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>

  <script src="http://cdn.bootcss.com/highlight.js/9.4.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


</body>

</html>